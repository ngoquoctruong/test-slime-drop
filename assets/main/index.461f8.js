window.__require=function e(t,i,o){function n(r,s){if(!i[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=i[r]={exports:{}};t[r][0].call(u.exports,function(e){return n(t[r][1][e]||e)},u,u.exports,e,t,i,o)}return i[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(e,t){var i=e("./package.json").version,o="en",n="jp",a={jp:{play:"\u30b9\u30bf\u30fc\u30c8"},en:{play:"Play Now!"}},r=500;function s(){console.log("H5ad v"+i),this._isInitialised=!1,this._splashAdShown=!1}function c(e){for(var t in e=e||{})void 0===e[t]&&delete e[t];return e}function l(e,t){console.error(e),(t=t||{}).noBreak?t.noBreak():(t.beforeBreak&&t.beforeBreak(),t.afterBreak&&t.afterBreak())}function u(){if(!navigator.language)return n;var e=navigator.language.toLowerCase().substr(0,2);return a[e]?e:o}s.prototype.initialize=function(e){if(this._isInitialised)console.warn("h5ad: already initialized");else{this._isInitialised=!0,e&&void 0!==e.adBreakTimeout&&(r=e.adBreakTimeout),adConfig=window.adConfig=function(){};var t=document.createElement("script");t.src="https://html5gameportal.com/embeds/wortal-1.0.0.js",t.async=!0,document.head.appendChild(t),t.addEventListener("load",()=>{window.initWortal(function(){adConfig({preloadAdBreaks:"on",sound:"on"}),console.log("Wortal setup complete!")})})}},s.prototype.onStart=function(e){if(e=e||{},this._isInitialised||this.initialize({adBreakTimeout:e.adBreakTimeout}),this._splashAdShown)console.warn("h5ad: onStart has already been called");else{this._splashAdShown=!0;var t="";t+=".splahContainer {",t+="    background-color: black;",t+="    position: absolute;",t+="    width: 100%;",t+="    height: 100%;",t+="    text-align: left;",t+="}",t+=".splahContainer .gameIcon {",t+="    position: relative;",t+="    width: 100px;",t+="    height: 100px;",t+="    background-size: 100%;",t+="    transform: translate(-50%, -100%);",t+="    left: 50%;",t+="    top: 31%;",t+="    border-radius: 10px;",t+="    border: 2px white solid;",t+="    border-radius: min(2vh,2vw);",t+="    border: min(0.7vw, 0.7vh) white solid;",t+="    width: min(30vw, 20vh);",t+="    height: min(30vw, 20vh);",t+="}",t+=".splahContainer .startButton {",t+="    background-color: rgb(255, 193, 7);",t+="    padding: 20px 30px;",t+="    border-radius: 13px;",t+="    transform: translate(-50%, 100%);",t+="    left: 50%;",t+="    top: 40%;",t+="    border: 5px solid white;",t+="    position: relative;",t+="    cursor: pointer;",t+="    font-size: 26px;",t+="    font-family: arial, verdana;",t+="    color: white;",t+="    text-align: center;",t+="    transition: all 0.1s;",t+="    width: min(50vw,27vh);",t+="    padding: min(3vw,3vh);",t+="    font-size: min(4vh,9vw);",t+="    border-radius: min(2vh,2vw);",t+="    border: min(1vw, 1vh) white solid;",t+="}",t+=".splahContainer .startButton:hover {",t+="    transform: translate(-50%, 100%) scale(1.1);",t+="    background-color: rgb(255 217 104);",t+="}";var i=document.createElement("style");i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(i);var o=document.createElement("div");e.color&&(o.style.backgroundColor=e.color),o.className="splahContainer";var n=document.createElement("div");n.textContent=a[u()].play,n.className="startButton",o.appendChild(n);var s=document.createElement("div");s.className="gameIcon",e.icon&&(s.style.backgroundImage="url("+e.icon+")"),o.appendChild(s),document.body.appendChild(o),n.onclick=function(){afterBreakCallbackCalled=!1;var t=setTimeout(function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,e.afterBreak&&e.afterBreak())},r);try{adBreak(c({type:"start",name:e.name||"splash_screen",beforeAd:function(){clearTimeout(t)},afterAd:function(){afterBreakCallbackCalled||(afterBreakCallbackCalled=!0,e.afterBreak&&e.afterBreak())}}))}catch(i){l(i,e)}setTimeout(function(){document.body.removeChild(o)},200)}}},s.prototype.onNext=function(e){(e=e||{}).type="next",this.adBreak(e)},s.prototype.onBrowse=function(e){(e=e||{}).type="browse",this.adBreak(e)},s.prototype.onPause=function(e){(e=e||{}).type="pause",this.adBreak(e)},s.prototype.onReward=function(e){(e=e||{}).type="reward",this.adBreak(e)},s.prototype.adBreak=function(e){var t,i=(e=e||{}).type;if(-1===["next","browse","pause","reward"].indexOf(i))return console.error("H5ad: unknown type",i);t=setTimeout(function(){e.noBreak&&e.noBreak()},r);try{adBreak(c({type:i,name:e.name||i,beforeAd:function(){t&&clearTimeout(t),e.beforeBreak&&e.beforeBreak()},afterAd:e.afterBreak,beforeReward:e.beforeReward,adDismissed:"reward"===i?e.adDismissed||function(){}:void 0,adViewed:e.adViewed}))}catch(o){l(o,e)}},s.prototype.onMute=function(){adConfig({sound:"off"})},s.prototype.onUnmute=function(){adConfig({sound:"on"})},t.exports=new s},{"./package.json":2}],2:[function(e,t){t.exports={name:"h5ad",version:"1.1.3",description:"Ad API wrapper for GC Turbo hyper casual games",main:"index.js",scripts:{},repository:{type:"git",url:"git+https://github.com/gc-turbo/h5ad.git"},author:"GC Turbo",license:"",bugs:{url:"https://github.com/gc-turbo/h5ad/issues"},homepage:"https://github.com/gc-turbo/h5ad#readme"}},{}],ComboBoxItem:[function(e,t){"use strict";cc._RF.push(t,"e3eb2OoYnVNLpiehtkwiOa4","ComboBoxItem"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},_parentCtrl:null,_data:null},setData:function(e,t){this._parentCtrl=e,this._data=t,this.label.string=LocalizationHelper.getText("label_text."+t.languageName)},onClickItemBtn:function(){this._parentCtrl.onClickItemBtn(),this._data.languageCode!=LocalizationHelper.language&&(LocalizationHelper.setLanguage(this._data.languageCode),this._parentCtrl.comboLabel.string=LocalizationHelper.getText("label_text."+this._data.languageName))}}),cc._RF.pop()},{}],ComboBox:[function(e,t){"use strict";cc._RF.push(t,"654288QCkNOzqcBu3xCbhmH","ComboBox");var i=["English","Japanese"],o=["en","ja"];cc.Class({extends:cc.Component,properties:{triangle:cc.Node,comboLabel:cc.Label,dropDown:cc.Node,vLayoutNode:cc.Node,contentNode:cc.Node,itemPrefab:cc.Prefab},onLoad:function(){this.isDropDown=!1},start:function(){this.comboLabel.string="en"==LocalizationHelper.language?LocalizationHelper.getText("label_text.English"):LocalizationHelper.getText("label_text.Japanese")},onClickItemBtn:function(e){this.rotateTriangle(),this.showHideDropDownBox(),this.isDropDown?this.isDropDown=!1:this.isDropDown=!0,e&&this.initItems()},rotateTriangle:function(){if(this.isDropDown){var e=cc.rotateTo(.5,-90).easing(cc.easeCubicActionOut());this.triangle.runAction(e)}else{var t=cc.rotateTo(.5,0).easing(cc.easeCubicActionOut());this.triangle.runAction(t)}},showHideDropDownBox:function(){this.isDropDown?this.dropDown.active=!1:this.dropDown.active=!0},initItems:function(){this.vLayoutNode.removeAllChildren();for(var e=0;e<i.length;e++){var t=cc.instantiate(this.itemPrefab);t.getComponent("ComboBoxItem").setData(this,{languageName:i[e],languageCode:o[e]}),this.vLayoutNode.addChild(t)}}}),cc._RF.pop()},{}],LanguageData:[function(e,t){"use strict";cc._RF.push(t,"31e138UXBhB5qwuxOaE7JZ1","LanguageData");var i=e("polyglot.min"),o=null;function n(e){return window.i18n.languages[e]}function a(e){e&&(o?o.replace(e):o=new i({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=n(e)||{};window.i18n.curLang=e,a(t),this.inst=o}},t:function(e,t){if(o)return o.t(e,t)},inst:o,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],i=0;i<e.length;++i){var o=e[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,o)}for(var n=0;n<t.length;++n){var a=t[n];a.node.active&&a.updateLabel()}for(var r=[],s=0;s<e.length;++s){var c=e[s].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(r,c)}for(var l=0;l<r.length;++l){var u=r[l];u.node.active&&u.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizationHelper:[function(e,t){"use strict";cc._RF.push(t,"fe46fQs9fJFnZhJJkECJfLR","LocalizationHelper");var i=function(){function t(){this.languageData=null,this.isInit=!1}var i=t.prototype;return i.init=function(){this.isInit||(this.isInit=!0,this.language=cc.sys.localStorage.getItem("downball_lang"),this.language||(this.language=this._getBrowserLanguage()),cc.sys.localStorage.setItem("downball_lang",this.language),this.languageData=e("LanguageData"),this.languageData.init(this.language))},i.getText=function(e){return this.languageData.t(e)},i.setLanguage=function(e){this.language=e,cc.sys.localStorage.setItem("downball_lang",this.language),this.languageData.init(this.language),this.languageData.updateSceneRenderers()},i._getBrowserLanguage=function(){var e,t,i=window.navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(i.languages))for(e=0;e<i.languages.length;e++)if((t=i.languages[e])&&t.length)return t.slice(0,2);for(e=0;e<o.length;e++)if((t=i[o[e]])&&t.length)return t.slice(0,2);return null},t}();t.exports=new i,window.LocalizationHelper=e("LocalizationHelper"),cc._RF.pop()},{LanguageData:"LanguageData",LocalizationHelper:"LocalizationHelper"}],LocalizedLabel:[function(e,t){"use strict";cc._RF.push(t,"85fa0KsWHVCBofvyuY2la/x","LocalizedLabel");var i=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){i.inst||i.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?i.t(this.dataID)&&(this.label.string=i.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t){"use strict";cc._RF.push(t,"ec55bdFcLtEn5n7fz3twVni","LocalizedSprite");var i=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:i}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],SpriteFrameSet:[function(e,t){"use strict";cc._RF.push(t,"ecbd3Ze139EO6Y/mdovRqSS","SpriteFrameSet");var i=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=i,cc._RF.pop()},{}],backdrop:[function(e,t){"use strict";cc._RF.push(t,"33979i+1ydJBLzksxkXWnGd","backdrop"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,sideWalls:[cc.Node],envNode:cc.Node,envTemplates:[cc.Prefab]},onLoad:function(){this.node.zIndex=-100,this.screenHeight=cc.winSize.height},start:function(){var e=this;this.node.y=-(this.screenHeight-600)/2,this.bg.height=this.screenHeight,this.envFrames=[];for(var t=Math.ceil(this.screenHeight/600)+1,i=0;i<t;i++){var o=cc.instantiate(this.envTemplates[~~(Math.random()*this.envTemplates.length)]);o.parent=this.envNode,o.y=(this.screenHeight-600)/2-600*i,this.envFrames.push(o)}this.sideWalls.forEach(function(t){t.height=e.screenHeight,t.y<0&&(t.y=-e.screenHeight)})},update:function(){},move:function(e){var t=this;this.node.y-=e,this.sideWalls.forEach(function(i){i.y+=.5*e,i.y>t.screenHeight&&(i.y-=2*t.screenHeight)});for(var i=0;i<this.envFrames.length;i++){var o=this.envFrames[i];if(o.y+=.2*e,o.y>600+(this.screenHeight-600)/2){var n=o.y-600*this.envFrames.length;o.destroy(),this.envFrames[i]=cc.instantiate(this.envTemplates[~~(Math.random()*this.envTemplates.length)]),this.envFrames[i].parent=this.envNode,this.envFrames[i].y=n}}}}),cc._RF.pop()},{}],ball:[function(e,t){"use strict";cc._RF.push(t,"1f855lMJnZLjJf2bPQGKBbg","ball");var i=a(e("./pickup")),o=a(e("./spike")),n=a(e("./ingameCtor"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{controller:n.default,ballBodyPrefab:cc.Prefab,ballEyePrefab:cc.Prefab,normalSpriteFrame:cc.SpriteFrame,deadSpriteFrame:cc.SpriteFrame,bounceSpriteFrames:[cc.SpriteFrame]},onLoad:function(){var e=this;this.body=cc.instantiate(this.ballBodyPrefab),this.eye=cc.instantiate(this.ballEyePrefab),this.rigidBody=this.getComponent(cc.RigidBody),this.body.parent=this.node.parent,this.eye.parent=this.node.parent,this.lastY=0,this.bodyOffsetY=0,this.bounceTween=null,this.normalSpriteFrameSize=[this.normalSpriteFrame.getRect().width,this.normalSpriteFrame.getRect().height],this.deadSpriteFrameSize=[this.deadSpriteFrame.getRect().width,this.deadSpriteFrame.getRect().height],this.bounceSpriteFrameSizes=[],this.bounceSpriteFrames.forEach(function(t){e.bounceSpriteFrameSizes.push([t.getRect().width,t.getRect().height])})},start:function(){},lateUpdate:function(){var e=this,t=this.rigidBody.linearVelocity.y;if(this.lastY<0&&t>=0){var i=t;if(i>200){var o=.03/(.2*(this.controller.currentdifficultScale-1)+1);this.bounceTween&&this.bounceTween.stop(),this.controller.playJumpSound(i/300),this.bounceTween=cc.tween(this.node).call(function(){e.eye.active=!1,e.updateBodyBasedOnSpriteFrame(0,i/26/e.controller.currentdifficultScale)}).delay(o).call(function(){e.updateBodyBasedOnSpriteFrame(1,i/35/e.controller.currentdifficultScale)}).delay(1.4*o).call(function(){e.updateBodyBasedOnSpriteFrame(2,i/42/e.controller.currentdifficultScale)}).delay(1.8*o).call(function(){e.updateBodyBasedOnSpriteFrame(1,i/84/e.controller.currentdifficultScale)}).delay(2.4*o).call(function(){e.updateBodyBasedOnSpriteFrame(0)}).delay(2.8*o).call(function(){e.node.angle=0,e.eye.active=!0,e.updateBodyBasedOnSpriteFrame(-1)}).start()}}this.lastY=t,this.body.position=this.node.position,this.body.y-=this.bodyOffsetY,this.eye.position=this.node.position,this.eye.angle=this.node.angle},updateBodyBasedOnSpriteFrame:function(e,t){void 0===t&&(t=0),this.body.getComponent(cc.Sprite).spriteFrame=e<0?-2===e?this.deadSpriteFrame:this.normalSpriteFrame:this.bounceSpriteFrames[e];var i=e<0?-2===e?this.deadSpriteFrameSize:this.normalSpriteFrameSize:this.bounceSpriteFrameSizes[e];this.body.width=i[0],this.body.height=i[1],this.bodyOffsetY=this.normalSpriteFrameSize[1]-this.body.height+t},setDeadFrame:function(){this.eye.active=!1,this.updateBodyBasedOnSpriteFrame(-2)},onBeginContact:function(e,t,n){var a=n.getComponent(i.default);a&&this.controller.eatPickup(a.node);var r=n.getComponent(o.default);r&&this.controller.stumpSpike(r)}}),cc._RF.pop()},{"./ingameCtor":"ingameCtor","./pickup":"pickup","./spike":"spike"}],block:[function(e,t){"use strict";cc._RF.push(t,"dfa28y7x0BNFZQ9xARhs4Og","block"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.sprite=this.getComponent(cc.Sprite)},start:function(){},update:function(){}}),cc._RF.pop()},{}],helpIcon:[function(e,t){"use strict";cc._RF.push(t,"4b27c/Ff6RC/q6X229VzbWl","helpIcon"),cc.Class({extends:cc.Component,properties:{},start:function(){this.tween=cc.tween(this.node).repeat(1e3,cc.tween().to(.5,{opacity:255}).delay(.2).to(.5,{opacity:0})).start()},stop:function(){this.tween&&this.tween.stop(),this.tween=cc.tween(this.node).to(.4,{opacity:0}).start()}}),cc._RF.pop()},{}],helpers:[function(e,t){"use strict";cc._RF.push(t,"53e50A4LFdLSob/nvJiTPJs","helpers");var i=e("h5ad");t.exports.showAds=function(e,t,o){var n=new Object;n.type=e,n.beforeBreak=function(){console.log("beforeBreak"),t&&(cc.director.pause(),cc.audioEngine.pauseAll())},n.afterBreak=function(){console.log("afterBreak"),t&&(cc.director.resume(),cc.audioEngine.resumeAll()),"reward"!=e&&o&&o(!0)},"reward"==e&&(n.beforeReward=function(e){console.log("beforeReward"),e()}),n.adDismissed=function(){console.log("adDismissed"),o&&o(!1)},"reward"==e&&(n.adViewed=function(){console.log("adViewed"),o&&o(!0)}),n.noBreak=function(){console.log("noBreak"),t&&(cc.director.resume(),cc.audioEngine.resumeAll()),o&&o(!0)},i.adBreak(n)},t.exports.gtaInit=function(e,t){console.log("init:",e+" ** "+t);var i={gameId:e,version:"1.0.0",debugLog:!0,amplitude:{apiKey:t,debugLog:!0}};gcTurboAnalytics.init(i)},t.exports.gtaSendBaseUserProperties=function(){var e=new Object;e.version="1.0.0",gcTurboAnalytics.setUserProperties(e)},t.exports.gtaSetUserProperties=function(e){gcTurboAnalytics.setUserProperties(e)},t.exports.gtaPushEvent=function(e,t){gcTurboAnalytics.pushEvent(e,t)},t.exports.getAppName=function(){return"Drop"},t.exports.getWeblinkSource=function(){return document?document.referrer||document.URL:"Unknown"},t.exports.getResourceUrl=function(e){var t=cc.resources.getInfoWithPath(e),i=t.uuid;return t.nativeVer&&(i+="."+t.nativeVer),"./assets/resources/native/"+i.substr(0,2)+"/"+i+".png"},cc._RF.pop()},{h5ad:1}],ingameCtor:[function(e,t){"use strict";cc._RF.push(t,"f248dKnGNxJz51/88AFA/6x","ingameCtor");var i=a(e("./libs/perlin")),o=(a(e("./block")),a(e("./pickup")),a(e("./ingameUICtor"))),n=a(e("./libs/helpers"));function a(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:cc.Component,properties:{uiController:o.default,touchInputFrame:cc.Node,backdrop:cc.Node,ball:cc.Node,blockPrefab:cc.Prefab,pickupPrefab:cc.Prefab,spikePrefab:cc.Prefab,gameCamera:cc.Node,bgm:cc.AudioClip,gameOverClip:cc.AudioClip,jumpClip:cc.AudioClip,coinClip:cc.AudioClip,spikeClip:cc.AudioClip,clickClip:cc.AudioClip},onLoad:function(){cc.winSize.height<cc.winSize.width&&(cc.Canvas.instance.fitHeight=!0),cc.Canvas.instance.fitWidth=!0,this.screenHeight=cc.winSize.height,this.node.height=this.screenHeight,this.node.y=this.screenHeight/2,this.uiController.node.y=(this.screenHeight-600)/2+300,this.uiController.ingameController=this,cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-1e3);var e=cc.director.getPhysicsManager();cc.audioEngine.setMusicVolume(.6),this.sound=cc.sys.localStorage.getItem("massplay.drop.sound")||"on",this.uiController.updateSoundToggle("on"===this.sound),this.updateBgm(),this.highScore=cc.sys.localStorage.getItem("massplay.drop.highscore")||0,e.enabledAccumulator=!0,e.FIXED_TIME_STEP=1/30,e.VELOCITY_ITERATIONS=8,e.POSITION_ITERATIONS=8,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.touchInputFrame.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.touchInputFrame.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.touchInputFrame.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.touchInputFrame.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.isLeftPressed=!1,this.isRightPressed=!1,this.isTouching=!1,this.touchX=0,this.isGameEnded=!1,this.blocksPerRow=~~(this.node.width/40)-2,this.playingTime=0;var t=cc.sys.localStorage.getItem("initScore",this.score)||0;cc.sys.localStorage.removeItem("initScore"),this.score=1*t,this.currentdifficultScale=1,cc.director.isPaused&&cc.director.resume()},start:function(){var e=this;this.blockPool=new cc.NodePool("block"),this.pickupPool=new cc.NodePool("pickup"),this.spikePool=new cc.NodePool("spike"),this.blocks=[],this.pickups=[],this.spikes=[],i.default.seed(Math.random()),this.spawningBlockY=40,this.spawningBlockTime=0,this.spawnBlockRow([[!1,!1,!1,0],[!1,!1,!1,0],[!1,!1,!1,0],[!1,!1,!1,0],[!0,!1,!1,0],[!0,!1,!1,0],[!0,!1,!1,0],[!0,!1,!1,0],[!0,!1,!1,0],[!1,!1,!1,0],[!1,!1,!1,0],[!1,!1,!1,0],[!1,!1,!1,0]]),this.generateNewBlockRow(),this.uiController.updateScoreLabel(this.score,this.highScore),cc.director.pause(),this.uiController.popupOverlay.active=!0,setTimeout(function(){e.uiController.showReadyLabel()},300),setTimeout(function(){e.uiController.hideReadyLabel(),e.uiController.popupOverlay.active=!1},1800),setTimeout(function(){cc.director.resume()},2e3)},generateNewBlockRow:function(){for(;this.spawningBlockY>this.gameCamera.y-this.screenHeight-80;){for(var e=[],t=!1,o=0;!t&&o<10;){this.spawningBlockTime++;var n=!1,a=Math.random()<=.15,r=40*Math.random()-20,s=0,c=0;t=!0,o++,e=[];for(var l=0;l<this.blocksPerRow;l++){var u=i.default.simplex2(l,this.spawningBlockTime)*(this.spawningBlockTime%2*2-1)>-.1;u&&c>0&&c<2&&(u=!1),u?(c>0&&(a=Math.random()<=.15,r=40*Math.random()-20),c=0,s++):c++;var p=!!u&&Math.random()<=.2&&!n,h=!!u&&a;n|=p,e.push([u,p,h,r])}s>=this.blocksPerRow-5&&(t=!1)}this.spawnBlockRow(e)}},spawnBlockRow:function(e){var t=this;this.lastBlockRow=e;var i=-(this.blocksPerRow-1)/2;e.forEach(function(o){if(o[0]){var n=e.indexOf(o);if(t.blockPool.size()<=0){var a=cc.instantiate(t.blockPrefab);t.blockPool.put(a)}var r=t.blockPool.get();if(r.parent=t.node,r.position=cc.Vec3(40*(i+n),t.spawningBlockY+o[3]),r.getComponent(cc.PhysicsBoxCollider).restitution=Math.max(.6*(1-.05*.1*t.playingTime*.2),.5),r.getComponent(cc.PhysicsBoxCollider).apply(),t.blocks.push(r),o[1]){if(t.pickupPool.size()<=0){var s=cc.instantiate(t.pickupPrefab);t.pickupPool.put(s)}var c=t.pickupPool.get();c.getComponent("pickup").setRandomType(),c.parent=t.node,c.position=cc.Vec3(40*(i+n),t.spawningBlockY+o[3]+r.height/2+10+c.height/2),t.pickups.push(c)}else if(o[2]){if(t.spikePool.size()<=0){var l=cc.instantiate(t.spikePrefab);t.spikePool.put(l)}var u=t.spikePool.get();u.parent=t.node,u.position=cc.Vec3(40*(i+n),t.spawningBlockY+o[3]+r.height/2+u.height/2),t.spikes.push(u)}}}),this.spawningBlockY-=220},update:function(e){var t=this.ball.getComponent(cc.RigidBody);if(this.currentdifficultScale=1+.05*this.playingTime,(this.isLeftPressed||this.isRightPressed||this.isTouching)&&(this.isStarted||(this.uiController.stopHelpIcon(),this.isStarted=!0)),!this.isLeftPressed&&!this.isRightPressed&&this.isTouching&&0!==this.touchX){var i=this.touchX/Math.abs(this.touchX)*7e3;i>0?(t.linearVelocity=cc.v2(Math.max(t.linearVelocity.x,0),t.linearVelocity.y),t.angularVelocity=Math.max(t.angularVelocity,0)):(t.linearVelocity=cc.v2(Math.min(t.linearVelocity.x,0),t.linearVelocity.y),t.angularVelocity=Math.min(t.angularVelocity,0)),t.applyLinearImpulse(cc.v2(i*e,0),t.getWorldCenter()),t.applyAngularImpulse(-i*e*10);var o=this.touchX;this.touchX-=i,this.touchX/o<0&&(this.touchX=0)}if(this.isLeftPressed&&(t.linearVelocity=cc.v2(Math.min(t.linearVelocity.x,0),t.linearVelocity.y),t.angularVelocity=Math.min(t.angularVelocity,0),t.applyLinearImpulse(cc.v2(-7e3*e,0),t.getWorldCenter()),t.applyAngularImpulse(8400*e)),this.isRightPressed&&(t.linearVelocity=cc.v2(Math.max(t.linearVelocity.x,0),t.linearVelocity.y),t.angularVelocity=Math.max(t.angularVelocity,0),t.applyLinearImpulse(cc.v2(7e3*e,0),t.getWorldCenter()),t.applyAngularImpulse(-7e3*e*1.2)),this.isStarted){this.playingTime+=e;var n=50*e*this.currentdifficultScale;t.gravityScale=this.currentdifficultScale,this.gameCamera.y-=n,this.touchInputFrame.y-=n,this.backdrop.getComponent("backdrop").move(n);for(var a=this.blocks.length-1;a>=0;a--){var r=this.blocks[a];r.position.y>this.gameCamera.y+50&&(this.blockPool.put(r),this.blocks.splice(a,1))}for(var s=this.pickups.length-1;s>=0;s--){var c=this.pickups[s];c.position.y>this.gameCamera.y+50&&(this.pickupPool.put(c),this.pickups.splice(s,1))}for(var l=this.spikes.length-1;l>=0;l--){var u=this.spikes[l];u.position.y>this.gameCamera.y+50&&(this.spikePool.put(u),this.spikes.splice(l,1))}this.generateNewBlockRow(),this.score+=10*e,this.uiController.updateScoreLabel(this.score,this.highScore)}},lateUpdate:function(){Math.abs(this.ball.y-this.gameCamera.y+this.screenHeight/2)>this.screenHeight/2+80&&this.endGame();var e=this.ball.getComponent(cc.RigidBody);e.linearVelocity=cc.v2(e.linearVelocity.x/Math.abs(e.linearVelocity.x)*Math.min(Math.abs(e.linearVelocity.x),200),e.linearVelocity.y),this.isRightPressed||this.isLeftPressed||(e.linearVelocity=cc.v2(.8*e.linearVelocity.x,e.linearVelocity.y),e.angularVelocity=.2*e.angularVelocity)},playJumpSound:function(e){"on"===this.sound&&cc.audioEngine.play(this.jumpClip,!1,e)},eatPickup:function(e){var t=e.getComponent("pickup").score;this.pickupPool.put(e),"on"===this.sound&&cc.audioEngine.play(this.coinClip,!1,.5),this.pickups.splice(this.pickups.indexOf(e),1),this.score+=t,this.uiController.updateScoreLabel(this.score,this.highScore),this.uiController.addScoreEffect(t)},stumpSpike:function(){this.ball.getComponent("ball").setDeadFrame(),"on"===this.sound&&cc.audioEngine.play(this.spikeClip,!1,1),this.endGame()},pauseGame:function(){cc.director.pause(),this.uiController.showPopup("pause")},helpOpen:function(){cc.director.pause(),this.uiController.showPopup("help")},endGame:function(){var e=this;this.isGameEnded||(this.isGameEnded=!0,cc.audioEngine.stopMusic(),cc.director.pause(),setTimeout(function(){"on"===e.sound&&cc.audioEngine.stopMusic(),"on"===e.sound&&cc.audioEngine.play(e.gameOverClip,!1,1),e.highScore=Math.max(e.highScore,Math.round(e.score)),cc.sys.localStorage.setItem("massplay.drop.highscore",e.highScore),e.uiController.updateResultScoreLabel(e.score,e.highScore),e.uiController.showPopup("result")},600))},resumeGame:function(){cc.director.resume(),this.uiController.hidePopup()},quitGame:function(){var e=this;this.resumeGame(),cc.audioEngine.pauseAll(),this.uiController.showLoading(),n.default.showAds("reward",!1,function(t){e.uiController.hideLoading(),cc.audioEngine.resumeAll();var i=new Object;i.adType="Reward",i.gameName=n.default.getAppName(),i.gameFeature="rewardAD_home",i.weblinkSource=n.default.getWeblinkSource(),t?n.default.gtaPushEvent("AdShowSuccess",i):n.default.gtaPushEvent("AdShowFail",i),cc.director.loadScene("landing")})},restartGame:function(){var e=this;cc.audioEngine.pauseAll(),this.uiController.showLoading(),n.default.showAds("reward",!1,function(t){e.uiController.hideLoading(),cc.audioEngine.resumeAll();var i=new Object;i.adType="Reward",i.gameName=n.default.getAppName(),i.gameFeature="rewardAD_rePlay",i.weblinkSource=n.default.getWeblinkSource(),t?n.default.gtaPushEvent("AdShowSuccess",i):n.default.gtaPushEvent("AdShowFail",i),t&&(cc.sys.localStorage.setItem("isFirstTime",0),cc.sys.localStorage.setItem("initScore",e.score),cc.director.loadScene("ingame"))})},onToggleSound:function(){this.sound="on"===this.sound?"off":"on",cc.sys.localStorage.setItem("massplay.drop.sound",this.sound),this.uiController.updateSoundToggle("on"===this.sound),this.updateBgm()},updateBgm:function(){cc.audioEngine.isMusicPlaying()&&"off"===this.sound?cc.audioEngine.stopAll():cc.audioEngine.isMusicPlaying()||"on"!==this.sound||cc.audioEngine.playMusic(this.bgm,!0)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.left:case cc.macro.KEY.dpadLeft:this.isLeftPressed=!0;break;case cc.macro.KEY.right:case cc.macro.KEY.dpadRight:this.isRightPressed=!0}},onKeyUp:function(e){switch(e.keyCode){case cc.macro.KEY.left:case cc.macro.KEY.dpadLeft:this.isLeftPressed=!1;break;case cc.macro.KEY.right:case cc.macro.KEY.dpadRight:this.isRightPressed=!1}},onTouchStart:function(){this.isTouching=!0,this.touchX=0},onTouchMove:function(e){this.isTouching&&(this.touchX/e.getDelta().x<0&&(this.touchX=0),this.touchX+=50*e.getDelta().x)},onTouchEnd:function(){this.isTouching=!1}}),cc._RF.pop()},{"./block":"block","./ingameUICtor":"ingameUICtor","./libs/helpers":"helpers","./libs/perlin":"perlin","./pickup":"pickup"}],ingameUICtor:[function(e,t){"use strict";cc._RF.push(t,"7bb42GScFVC54uXdQ4eXL54","ingameUICtor"),cc.Class({extends:cc.Component,properties:{popupOverlay:cc.Node,resultPopup:cc.Node,helpPopup:cc.Node,pausePopup:cc.Node,readyLabel:cc.Node,scoreLabel:cc.Label,highscoreLabel:cc.Label,scoreResultLabel:cc.Label,highscoreResultLabel:cc.Label,soundButtonSprite:cc.Sprite,soundOnSprite:cc.SpriteFrame,soundOffSprite:cc.SpriteFrame,scoreEffect:cc.Node,helpIcon:cc.Node,homeBtn:{default:null,type:cc.Node},restartBtn:{default:null,type:cc.Node},homeBtn0:{default:null,type:cc.Node},restartBtn0:{default:null,type:cc.Node},loading:{default:null,type:cc.Node}},onLoad:function(){this.hideReadyLabel(),this.hidePopup()},start:function(){this.screenHeight=cc.winSize.height;var e=-(this.screenHeight-600)/2;this.popupOverlay.y=e,this.resultPopup.y=e,this.helpPopup.y=e,this.pausePopup.y=e,this.readyLabel.y=e,this.helpIcon.y=-(this.screenHeight-600)/2+this.screenHeight/2-370,this.popupOverlay.height=this.screenHeight},hidePopup:function(){this.popupOverlay.active=!1,this.resultPopup.active=!1,this.helpPopup.active=!1,this.pausePopup.active=!1},showPopup:function(e){switch(this.hidePopup(),this.popupOverlay.active=!0,e){case"pause":this.pausePopup.active=!0,this.restartBtn.active="1"===cc.sys.localStorage.getItem("isFirstTime"),this.homeBtn.x="1"===cc.sys.localStorage.getItem("isFirstTime")?-75:0;break;case"help":this.helpPopup.active=!0;break;case"result":this.resultPopup.active=!0,this.restartBtn0.active="1"===cc.sys.localStorage.getItem("isFirstTime"),this.homeBtn0.x="1"===cc.sys.localStorage.getItem("isFirstTime")?-100:0}},showLoading:function(){this.loading.active=!0},hideLoading:function(){this.loading.active=!1},hideReadyLabel:function(){this.readyLabel.active=!1},showReadyLabel:function(){this.readyLabel.active=!0},addScoreEffect:function(e){this.scoreEffect.getComponent("scoreEffect").animate(e)},updateScoreLabel:function(e,t){this.scoreLabel.string=Math.round(e),this.highscoreLabel.string=t},updateResultScoreLabel:function(e,t){this.scoreResultLabel.string=Math.round(e),this.highscoreResultLabel.string=t,Math.round(e)===t&&(this.scoreResultLabel.node.color=cc.color("#E7CC40"),this.highscoreResultLabel.node.color=cc.color("#E7CC40"))},updateSoundToggle:function(e){this.soundButtonSprite.spriteFrame=e?this.soundOnSprite:this.soundOffSprite},stopHelpIcon:function(){this.helpIcon.getComponent("helpIcon").stop()},onResumeClicked:function(){"on"===this.ingameController.sound&&cc.audioEngine.play(this.ingameController.clickClip,!1),this.ingameController.resumeGame(),this.hidePopup()},onHelpClicked:function(){"on"===this.ingameController.sound&&cc.audioEngine.play(this.ingameController.clickClip,!1),this.ingameController.helpOpen()},onPauseClicked:function(){"on"===this.ingameController.sound&&cc.audioEngine.play(this.ingameController.clickClip,!1),this.ingameController.pauseGame()},onRestartClicked:function(){"on"===this.ingameController.sound&&cc.audioEngine.play(this.ingameController.clickClip,!1),this.ingameController.restartGame()},onSoundClicked:function(){this.ingameController.onToggleSound(),"on"===this.ingameController.sound&&cc.audioEngine.play(this.ingameController.clickClip,!1)},onQuitClicked:function(){"on"===this.ingameController.sound&&cc.audioEngine.play(this.ingameController.clickClip,!1),this.ingameController.quitGame()}}),cc._RF.pop()},{}],landingCtor:[function(e,t){"use strict";cc._RF.push(t,"ce4baYvJeFD6Jgwr6IrucOp","landingCtor");var i=e("h5ad"),o=e("./libs/helpers");cc.Class({extends:cc.Component,properties:{helpPopup:cc.Node,soundButtonSprite:cc.Sprite,soundOnSprite:cc.SpriteFrame,soundOffSprite:cc.SpriteFrame,bgm:cc.AudioClip,clickClip:cc.AudioClip},onLoad:function(){LocalizationHelper.init(),o.gtaInit("321085","0033cb7f59e3cd9a32e9a1abd8807afa");var e={weblinkSource:o.getWeblinkSource(),gameName:o.getAppName(),version:"1.0.0"};o.gtaSetUserProperties(e),o.gtaPushEvent("gameSession",e),this.sound=cc.sys.localStorage.getItem("massplay.drop.sound")||"on",cc.audioEngine.setMusicVolume(.6),this.updateSoundToggle("on"===this.sound),cc.sys.localStorage.setItem("isFirstTime",1),i.onStart({icon:o.getResourceUrl("icon"),color:"#1E5880",afterBreak:function(){var e=new Object;e.adType="Interstitial",e.gameName=o.getAppName(),e.weblinkSource=o.getWeblinkSource(),e.gameFeature="interstitialAD_start",o.gtaPushEvent("AdShowSuccess",e)},adBreakTimeout:3e3})},start:function(){this.helpPopup.active=!1},onPlayClicked:function(){"on"===this.sound&&cc.audioEngine.play(this.clickClip,!1),cc.director.loadScene("ingame")},onHelpClicked:function(){"on"===this.sound&&cc.audioEngine.play(this.clickClip,!1),this.helpPopup.active=!0},onHelpClosedClicked:function(){"on"===this.sound&&cc.audioEngine.play(this.clickClip,!1),this.helpPopup.active=!1},onToggleSoundClicked:function(){this.sound="on"===this.sound?"off":"on",cc.sys.localStorage.setItem("massplay.drop.sound",this.sound),this.updateSoundToggle("on"===this.sound),"on"===this.sound&&cc.audioEngine.play(this.clickClip,!1)},updateSoundToggle:function(e){this.soundButtonSprite.spriteFrame=e?this.soundOnSprite:this.soundOffSprite}}),cc._RF.pop()},{"./libs/helpers":"helpers",h5ad:1}],loading:[function(e,t){"use strict";cc._RF.push(t,"34e7aFW/uVFVIfXycZW6RWT","loading"),cc.Class({extends:cc.Component,properties:{cycleIcon:{default:null,type:cc.Node},heartIcon:{default:null,type:cc.Node},_timeout:null},onEnable:function(){},startCountDown:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(function(){e&&e(),Global.panel.closeLoading()},t)},set:function(e,t){this[e]=t},get:function(e){return this[e]}}),cc._RF.pop()},{}],perlin:[function(e,t){"use strict";function i(e,t,i){this.x=e,this.y=t,this.z=i}cc._RF.push(t,"bd596Ss6v1BuIwW9SnsQQSk","perlin"),i.prototype.dot2=function(e,t){return this.x*e+this.y*t},i.prototype.dot3=function(e,t,i){return this.x*e+this.y*t+this.z*i};var o=[new i(1,1,0),new i(-1,1,0),new i(1,-1,0),new i(-1,-1,0),new i(1,0,1),new i(-1,0,1),new i(1,0,-1),new i(-1,0,-1),new i(0,1,1),new i(0,-1,1),new i(0,1,-1),new i(0,-1,-1)],n=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],a=new Array(512),r=new Array(512);t.exports.seed=function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t=0;t<256;t++){var i;i=1&t?n[t]^255&e:n[t]^e>>8&255,a[t]=a[t+256]=i,r[t]=r[t+256]=o[i%12]}},t.exports.seed(0);var s=.5*(Math.sqrt(3)-1),c=(3-Math.sqrt(3))/6;function l(e){return e*e*e*(e*(6*e-15)+10)}function u(e,t,i){return(1-i)*e+i*t}t.exports.simplex2=function(e,t){var i,o,n=(e+t)*s,l=Math.floor(e+n),u=Math.floor(t+n),p=(l+u)*c,h=e-l+p,d=t-u+p;h>d?(i=1,o=0):(i=0,o=1);var g=h-i+c,f=d-o+c,m=h-1+2*c,y=d-1+2*c,v=r[(l&=255)+a[u&=255]],b=r[l+i+a[u+o]],C=r[l+1+a[u+1]],w=.5-h*h-d*d,S=.5-g*g-f*f,k=.5-m*m-y*y;return 70*((w<0?0:(w*=w)*w*v.dot2(h,d))+(S<0?0:(S*=S)*S*b.dot2(g,f))+(k<0?0:(k*=k)*k*C.dot2(m,y)))},t.exports.simplex3=function(e,t,i){var o,n,s,c,l,u,p=(e+t+i)*(1/3),h=Math.floor(e+p),d=Math.floor(t+p),g=Math.floor(i+p),f=(h+d+g)*(1/6),m=e-h+f,y=t-d+f,v=i-g+f;m>=y?y>=v?(o=1,n=0,s=0,c=1,l=1,u=0):m>=v?(o=1,n=0,s=0,c=1,l=0,u=1):(o=0,n=0,s=1,c=1,l=0,u=1):y<v?(o=0,n=0,s=1,c=0,l=1,u=1):m<v?(o=0,n=1,s=0,c=0,l=1,u=1):(o=0,n=1,s=0,c=1,l=1,u=0);var b=m-o+1/6,C=y-n+1/6,w=v-s+1/6,S=m-c+1/6*2,k=y-l+1/6*2,L=v-u+1/6*2,F=m-1+.5,B=y-1+.5,x=v-1+.5,P=r[(h&=255)+a[(d&=255)+a[g&=255]]],R=r[h+o+a[d+n+a[g+s]]],E=r[h+c+a[d+l+a[g+u]]],T=r[h+1+a[d+1+a[g+1]]],_=.6-m*m-y*y-v*v,I=.6-b*b-C*C-w*w,N=.6-S*S-k*k-L*L,A=.6-F*F-B*B-x*x;return 32*((_<0?0:(_*=_)*_*P.dot3(m,y,v))+(I<0?0:(I*=I)*I*R.dot3(b,C,w))+(N<0?0:(N*=N)*N*E.dot3(S,k,L))+(A<0?0:(A*=A)*A*T.dot3(F,B,x)))},t.exports.perlin2=function(e,t){var i=Math.floor(e),o=Math.floor(t);e-=i,t-=o;var n=r[(i&=255)+a[o&=255]].dot2(e,t),s=r[i+a[o+1]].dot2(e,t-1),c=r[i+1+a[o]].dot2(e-1,t),p=r[i+1+a[o+1]].dot2(e-1,t-1),h=l(e);return u(u(n,c,h),u(s,p,h),l(t))},t.exports.perlin3=function(e,t,i){var o=Math.floor(e),n=Math.floor(t),s=Math.floor(i);e-=o,t-=n,i-=s;var c=r[(o&=255)+a[(n&=255)+a[s&=255]]].dot3(e,t,i),p=r[o+a[n+a[s+1]]].dot3(e,t,i-1),h=r[o+a[n+1+a[s]]].dot3(e,t-1,i),d=r[o+a[n+1+a[s+1]]].dot3(e,t-1,i-1),g=r[o+1+a[n+a[s]]].dot3(e-1,t,i),f=r[o+1+a[n+a[s+1]]].dot3(e-1,t,i-1),m=r[o+1+a[n+1+a[s]]].dot3(e-1,t-1,i),y=r[o+1+a[n+1+a[s+1]]].dot3(e-1,t-1,i-1),v=l(e),b=l(t),C=l(i);return u(u(u(c,g,v),u(p,f,v),C),u(u(h,m,v),u(d,y,v),C),b)},cc._RF.pop()},{}],pickup:[function(e,t){"use strict";cc._RF.push(t,"b13ff37Sp5LU6CvtWX6uTD8","pickup");var i=[5,10,25,50,100,200,500],o=[10,8,5,2,1,.5,.1];cc.Class({extends:cc.Component,properties:{typeFrames:[cc.SpriteFrame]},onLoad:function(){},start:function(){},setRandomType:function(){var e=0;o.forEach(function(t){e+=t});for(var t=Math.random()*e,i=0,n=0;n<o.length;n++){var a=o[n];if(t<a){i=n;break}t-=a}this.setType(i)},setType:function(e){this.getComponent(cc.Sprite).spriteFrame=this.typeFrames[e],this.score=i[e]},update:function(){}}),cc._RF.pop()},{}],"polyglot.min":[function(e,t,i){"use strict";cc._RF.push(t,"0c57bENkHNHF5R1+cLnLXbj","polyglot.min"),function(e,o){"function"==typeof define&&define.amd?define([],function(){return o(e)}):"object"==typeof i?t.exports=o(e):e.Polyglot=o(e)}(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||c}function i(e){var t,i,o,n={};for(t in e)if(e.hasOwnProperty(t))for(o in i=e[t])n[i[o]]=t;return n}function o(e){return e.replace(/^\s+|\s+$/g,"")}function n(e,t,i){var n;return null!=i&&e?o((n=e.split(u))[r(t,i)]||n[0]):e}function a(e){var t=i(h);return t[e]||t.en}function r(e,t){return p[a(e)](t)}function s(e,t){for(var i in t)"_"!==i&&t.hasOwnProperty(i)&&(e=e.replace(new RegExp("%\\{"+i+"\\}","g"),t[i]));return e}function c(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function l(e){var t={};for(var i in e)t[i]=e[i];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var i;for(var o in e)e.hasOwnProperty(o)&&(i=e[o],t&&(o=t+"."+o),"object"==typeof i?this.extend(i,o):this.phrases[o]=i)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var i,o;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?i=this.phrases[e]:"string"==typeof t._?i=t._:this.allowMissing?i=e:(this.warn('Missing translation for key: "'+e+'"'),o=e),"string"==typeof i&&(t=l(t),o=s(o=n(i,this.currentLocale,t.smart_count),t)),o},t.prototype.has=function(e){return e in this.phrases};var u="||||",p={chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},h={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],scoreEffect:[function(e,t){"use strict";cc._RF.push(t,"f5ee51SSFFAN5ZXXD5UraIq","scoreEffect"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.opacity=0},animate:function(e){this.getComponent(cc.Label).string="+"+e,this.node.getParent().getComponent(cc.Label)._forceUpdateRenderData(),this.node.position=cc.v2(this.node.getParent().width,0),this.tween&&this.tween.stop(),this.tween=cc.tween(this.node).to(.1,{position:cc.v2(this.node.x,-26),opacity:255}).delay(.4).to(.15,{position:cc.v2(this.node.x,0),opacity:0}).start()}}),cc._RF.pop()},{}],spike:[function(e,t){"use strict";cc._RF.push(t,"6d884VdxFVHp4E6MFk25Cm0","spike"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.zIndex=-10},start:function(){},setType:function(){},update:function(){}}),cc._RF.pop()},{}]},{},["backdrop","ball","block","helpIcon","ingameCtor","ingameUICtor","landingCtor","ComboBox","ComboBoxItem","LocalizationHelper","helpers","perlin","loading","pickup","scoreEffect","spike","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);